/**
 * @appular docs - displays documentation from json generated by grunt-appular-docs
 */
define([
    'jquery',
    'underscore',
    'backbone',
    './model',
    './views/nav/view',
    // './views/docs',
    'template!./template.html'
], function ($, _, Backbone, Model, Nav, template) {
    var View = Backbone.View.extend({
            model: new Model(),
            template: template,
            listeners: {
                'model change:view': 'updateView'
            },
            events: {},
            initialize: function () {},
            render: function () {
                this.$el.html(this.template());
                
                this.views.nav = new Nav({
                    el: '#module-docs-nav',
                    model: this.model
                }).render();

                // this.views.docs = this.initView(Docs, {
                //     el: '#module-docs-docs',
                //     docs: DocsJson
                // }).render();

                return this;
            },
            updateView: function () {
                this.app.set('view', this.get('view'));
            }
        });

    return View;
});